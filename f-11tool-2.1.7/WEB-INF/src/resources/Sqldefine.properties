# PostgreSQL

/postgresql/tool/user/read/all=SELECT username FROM user_define_table ORDER BY username
/postgresql/tool/user/remove=DELETE FROM user_define_table WHERE username=?
/postgresql/tool/user/insert=INSERT INTO user_define_table (username, password, entrydate, renewdate) VALUES(?, ?, ?, ?)
/postgresql/tool/user/update=UPDATE user_define_table SET password=?,renewdate=? WHERE username=?
/postgresql/tool/user/read/password=SELECT password FROM user_define_table WHERE username=?
/postgresql/tool/user/read/permission=SELECT p.name FROM group_define_table g, tool_policy_define_table p WHERE (g.username=? AND g.groupname=p.principal) OR p.principal=?

/postgresql/tool/group/read/all=SELECT DISTINCT groupname FROM group_define_table ORDER BY groupname
/postgresql/tool/group/read=SELECT username FROM group_define_table WHERE groupname=?
/postgresql/tool/group/remove=DELETE FROM group_define_table WHERE groupname=?
/postgresql/tool/group/insert=INSERT INTO group_define_table (username, groupname, entrydate, renewdate) VALUES(?, ?, ?, ?)

/postgresql/tool/point/read/all=SELECT point, unit, name, unit_mark FROM point_table ORDER BY point
/postgresql/tool/point/read=SELECT point, unit, name, unit_mark, attribute1, attribute2, attribute3 FROM point_table WHERE point=? ORDER BY point
/postgresql/tool/point/update=UPDATE point_table SET unit=?, name=?, unit_mark=?, attribute1=?, attribute2=?, attribute3=? WHERE point=?
/postgresql/tool/point/remove=DELETE FROM point_table WHERE point=?
/postgresql/tool/point/insert=INSERT INTO point_table (point, unit, name, unit_mark, attribute1, attribute2, attribute3) VALUES(?, ?, ?, ?, ?, ?, ?)

/postgresql/tool/email/read/all=SELECT DISTINCT email_group_id, email_address FROM email_group_table ORDER BY email_group_id, email_address
/postgresql/tool/email/read=SELECT email_group_id, email_address FROM email_group_table WHERE email_group_id=? AND email_address=?
/postgresql/tool/email/update=UPDATE email_group_table SET email_group_id=?, email_address=? WHERE email_group_id=? AND email_address=?
/postgresql/tool/email/remove=DELETE FROM email_group_table WHERE email_group_id=? AND email_address=?
/postgresql/tool/email/insert=INSERT INTO email_group_table (email_group_id, email_address) VALUES(?, ?)

/postgresql/tool/maintenance/read=SELECT principal, name, permission, entrydate, renewdate FROM tool_policy_define_table WHERE principal=?
/postgresql/tool/maintenance/insert=INSERT INTO tool_policy_define_table (principal, name, permission, entrydate, renewdate) VALUES(?, ?, 'write', ?, ?)
/postgresql/tool/maintenance/remove/group=DELETE FROM tool_policy_define_table WHERE principal=?

/postgresql/tool/attribute/read=SELECT name FROM attribute_table;
/postgresql/tool/career/read=SELECT CASE WHEN c.bit_value='1' THEN att.on_alarm_color ELSE att.off_alarm_color END AS alarm_color, c.entrydate, p.unit, p.name AS p_name, att.name AS att_name, m.message, c.bit_value AS bitval FROM point_table p,career_table c,item_table i,message_table m,attribute_table att WHERE p.point=i.point AND c.point=i.point AND c.provider=i.provider AND c.holder=i.holder AND i.message_id=m.message_id AND c.bit_value=m.type AND i.attribute_id=att.attribute AND ((att.career_mode=1 AND c.bit_value='0') OR (att.career_mode=2 AND c.bit_value='1') OR (att.career_mode=3) OR (att.career_mode=4 AND c.bit_value='1') OR (att.career_mode=5 AND c.bit_value='0')) AND ? <= entrydate AND entrydate < ? AND p.name LIKE ? AND att.name LIKE ? AND (c.bit_value=? OR c.bit_value=?) ORDER BY entrydate DESC LIMIT ? OFFSET ?
/postgresql/tool/career/count=SELECT COUNT(c.point) AS count FROM point_table p,career_table c,item_table i,message_table m,attribute_table att WHERE p.point=i.point AND c.point=i.point AND c.provider=i.provider AND c.holder=i.holder AND i.message_id=m.message_id AND c.bit_value=m.type AND i.attribute_id=att.attribute AND ((att.career_mode=1 AND c.bit_value='0') OR (att.career_mode=2 AND c.bit_value='1') OR (att.career_mode=3) OR (att.career_mode=4 AND c.bit_value='1') OR (att.career_mode=5 AND c.bit_value='0')) AND ? < entrydate AND entrydate < ? AND p.name LIKE ? AND att.name LIKE ? AND (c.bit_value=? OR c.bit_value=?)
/postgresql/tool/history/read=SELECT CASE WHEN h.off_date='epoch' THEN att.on_alarm_color ELSE att.off_alarm_color END AS alarm_color, h.on_date, h.off_date, p.unit, p.name AS p_name, att.name AS att_name, CASE WHEN att.check_type = '0' THEN '\u2500\u2500\u2500\u2500' WHEN att.check_type = '1' AND h.check_flag = '1' THEN '\uff0a\uff0a\uff0a\uff0a' ELSE '' END AS histry_check FROM history_table h, point_table p, item_table i, attribute_table att WHERE p.point = h.point AND h.point = i.point AND h.provider = i.provider AND h.holder = i.holder AND i.attribute_id = att.attribute AND ((att.history_mode=1 AND h.off_date<>'epoch') OR (att.history_mode=2 AND h.on_date<>'epoch') OR (att.history_mode=3) OR (att.history_mode=4 AND h.on_date<>'epoch' AND h.off_date='epoch') OR (att.history_mode=5 AND h.on_date='epoch' AND h.off_date<>'epoch')) AND (('epoch' < on_date AND ? <= on_date AND on_date < ?) OR ('epoch' < off_date AND ? <= off_date AND off_date < ?)) AND p.name LIKE ? AND att.name LIKE ? AND (?<=h.off_date AND h.off_date<?) AND (?='true' OR (att.check_type<>'1' OR h.check_flag='1')) AND (?='true' OR (att.check_type='1' AND (h.check_flag<>'1' OR h.check_flag IS NULL))) ORDER BY h.on_date DESC LIMIT ? OFFSET ?
/postgresql/tool/history/count=SELECT COUNT(h.point) AS count FROM history_table h, point_table p, item_table i, attribute_table att WHERE p.point = h.point AND h.point = i.point AND h.provider = i.provider AND h.holder = i.holder AND i.attribute_id = att.attribute AND ((att.history_mode=1 AND h.off_date<>'epoch') OR (att.history_mode=2 AND h.on_date<>'epoch') OR (att.history_mode=3) OR (att.history_mode=4 AND h.on_date<>'epoch' AND h.off_date='epoch') OR (att.history_mode=5 AND h.on_date='epoch' AND h.off_date<>'epoch')) AND (('epoch' < on_date AND ? <= on_date AND on_date < ?) OR ('epoch' < off_date AND ? <= off_date AND off_date < ?)) AND p.name LIKE ? AND att.name LIKE ? AND (?<=h.off_date AND h.off_date<?) AND (?='true' OR (att.check_type<>'1' OR h.check_flag='1')) AND (?='true' OR (att.check_type='1' AND (h.check_flag<>'1' OR h.check_flag IS NULL)))
/postgresql/tool/summary/read=SELECT CASE WHEN s.bit_value='1' THEN att.on_summary_color ELSE att.off_summary_color END AS alarm_color, s.on_date, s.off_date, p.unit, p.name AS p_name, att.name AS att_name, m.message, s.bit_value AS bitval FROM summary_table s, point_table p, item_table i, message_table m, attribute_table att WHERE p.point = s.point AND s.point = i.point AND s.provider = i.provider AND s.holder = i.holder AND i.message_id = m.message_id AND s.bit_value = m.type AND i.attribute_id = att.attribute AND ((att.summary_mode=1 AND s.bit_value='0') OR (att.summary_mode=2 AND s.bit_value='1') OR (att.summary_mode=3) OR (att.summary_mode=4 AND s.bit_value='1') OR (att.summary_mode=5 AND s.bit_value='0')) AND (('epoch' < on_date AND ? <= on_date AND on_date < ?) OR ('epoch' < off_date AND ? <= off_date AND off_date < ?)) AND p.name LIKE ? AND att.name LIKE ? AND (s.bit_value=? OR s.bit_value=?) ORDER BY s.point, s.provider, s.holder LIMIT ? OFFSET ?
/postgresql/tool/summary/count=SELECT COUNT(s.point) AS count FROM summary_table s, point_table p, item_table i, message_table m, attribute_table att WHERE p.point = s.point AND s.point = i.point AND s.provider = i.provider AND s.holder = i.holder AND i.message_id = m.message_id AND s.bit_value = m.type AND i.attribute_id = att.attribute AND ((att.summary_mode=1 AND s.bit_value='0') OR (att.summary_mode=2 AND s.bit_value='1') OR (att.summary_mode=3) OR (att.summary_mode=4 AND s.bit_value='1') OR (att.summary_mode=5 AND s.bit_value='0')) AND (('epoch' < on_date AND ? <= on_date AND on_date < ?) OR ('epoch' < off_date AND ? <= off_date AND off_date < ?)) AND p.name LIKE ? AND att.name LIKE ? AND (s.bit_value=? OR s.bit_value=?)
/postgresql/tool/career/readlike=SELECT CASE WHEN c.bit_value='1' THEN att.on_alarm_color ELSE att.off_alarm_color END AS alarm_color, c.entrydate, p.unit, p.name AS p_name, att.name AS att_name, m.message, c.bit_value AS bitval FROM point_table p,career_table c,item_table i,message_table m,attribute_table att WHERE p.point=i.point AND c.point=i.point AND c.provider=i.provider AND c.holder=i.holder AND i.message_id=m.message_id AND c.bit_value=m.type AND i.attribute_id=att.attribute AND ((att.career_mode=1 AND c.bit_value='0') OR (att.career_mode=2 AND c.bit_value='1') OR (att.career_mode=3) OR (att.career_mode=4 AND c.bit_value='1') OR (att.career_mode=5 AND c.bit_value='0')) AND ? <= entrydate AND entrydate < ? AND att.name LIKE ? AND (c.bit_value=? OR c.bit_value=?) $LIKE ORDER BY entrydate DESC LIMIT ? OFFSET ?
/postgresql/tool/career/countlike=SELECT COUNT(c.point) AS count FROM point_table p,career_table c,item_table i,message_table m,attribute_table att WHERE p.point=i.point AND c.point=i.point AND c.provider=i.provider AND c.holder=i.holder AND i.message_id=m.message_id AND c.bit_value=m.type AND i.attribute_id=att.attribute AND ((att.career_mode=1 AND c.bit_value='0') OR (att.career_mode=2 AND c.bit_value='1') OR (att.career_mode=3) OR (att.career_mode=4 AND c.bit_value='1') OR (att.career_mode=5 AND c.bit_value='0')) AND ? < entrydate AND entrydate < ? AND att.name LIKE ? AND (c.bit_value=? OR c.bit_value=?) $LIKE
/postgresql/tool/history/readlike=SELECT CASE WHEN h.off_date='epoch' THEN att.on_alarm_color ELSE att.off_alarm_color END AS alarm_color, h.on_date, h.off_date, p.unit, p.name AS p_name, att.name AS att_name, CASE WHEN att.check_type = '0' THEN '\u2500\u2500\u2500\u2500' WHEN att.check_type = '1' AND h.check_flag = '1' THEN '\uff0a\uff0a\uff0a\uff0a' ELSE '' END AS histry_check FROM history_table h, point_table p, item_table i, attribute_table att WHERE p.point = h.point AND h.point = i.point AND h.provider = i.provider AND h.holder = i.holder AND i.attribute_id = att.attribute AND ((att.history_mode=1 AND h.off_date<>'epoch') OR (att.history_mode=2 AND h.on_date<>'epoch') OR (att.history_mode=3) OR (att.history_mode=4 AND h.on_date<>'epoch' AND h.off_date='epoch') OR (att.history_mode=5 AND h.on_date='epoch' AND h.off_date<>'epoch')) AND (('epoch' < on_date AND ? <= on_date AND on_date < ?) OR ('epoch' < off_date AND ? <= off_date AND off_date < ?)) AND att.name LIKE ? AND (?<=h.off_date AND h.off_date<?) AND (?='true' OR (att.check_type<>'1' OR h.check_flag='1')) AND (?='true' OR (att.check_type='1' AND (h.check_flag<>'1' OR h.check_flag IS NULL))) $LIKE ORDER BY h.on_date DESC LIMIT ? OFFSET ?
/postgresql/tool/history/countlike=SELECT COUNT(h.point) AS count FROM history_table h, point_table p, item_table i, attribute_table att WHERE p.point = h.point AND h.point = i.point AND h.provider = i.provider AND h.holder = i.holder AND i.attribute_id = att.attribute AND ((att.history_mode=1 AND h.off_date<>'epoch') OR (att.history_mode=2 AND h.on_date<>'epoch') OR (att.history_mode=3) OR (att.history_mode=4 AND h.on_date<>'epoch' AND h.off_date='epoch') OR (att.history_mode=5 AND h.on_date='epoch' AND h.off_date<>'epoch')) AND (('epoch' < on_date AND ? <= on_date AND on_date < ?) OR ('epoch' < off_date AND ? <= off_date AND off_date < ?)) AND att.name LIKE ? AND (?<=h.off_date AND h.off_date<?) AND (?='true' OR (att.check_type<>'1' OR h.check_flag='1')) AND (?='true' OR (att.check_type='1' AND (h.check_flag<>'1' OR h.check_flag IS NULL))) $LIKE
/postgresql/tool/summary/readlike=SELECT CASE WHEN s.bit_value='1' THEN att.on_summary_color ELSE att.off_summary_color END AS alarm_color, s.on_date, s.off_date, p.unit, p.name AS p_name, att.name AS att_name, m.message, s.bit_value AS bitval FROM summary_table s, point_table p, item_table i, message_table m, attribute_table att WHERE p.point = s.point AND s.point = i.point AND s.provider = i.provider AND s.holder = i.holder AND i.message_id = m.message_id AND s.bit_value = m.type AND i.attribute_id = att.attribute AND ((att.summary_mode=1 AND s.bit_value='0') OR (att.summary_mode=2 AND s.bit_value='1') OR (att.summary_mode=3) OR (att.summary_mode=4 AND s.bit_value='1') OR (att.summary_mode=5 AND s.bit_value='0')) AND (('epoch' < on_date AND ? <= on_date AND on_date < ?) OR ('epoch' < off_date AND ? <= off_date AND off_date < ?)) AND att.name LIKE ? AND (s.bit_value=? OR s.bit_value=?) $LIKE ORDER BY s.point, s.provider, s.holder LIMIT ? OFFSET ?
/postgresql/tool/summary/countlike=SELECT COUNT(s.point) AS count FROM summary_table s, point_table p, item_table i, message_table m, attribute_table att WHERE p.point = s.point AND s.point = i.point AND s.provider = i.provider AND s.holder = i.holder AND i.message_id = m.message_id AND s.bit_value = m.type AND i.attribute_id = att.attribute AND ((att.summary_mode=1 AND s.bit_value='0') OR (att.summary_mode=2 AND s.bit_value='1') OR (att.summary_mode=3) OR (att.summary_mode=4 AND s.bit_value='1') OR (att.summary_mode=5 AND s.bit_value='0')) AND (('epoch' < on_date AND ? <= on_date AND on_date < ?) OR ('epoch' < off_date AND ? <= off_date AND off_date < ?)) AND att.name LIKE ? AND (s.bit_value=? OR s.bit_value=?) $LIKE

/postgresql/tool/autoprint/read/all=SELECT name, schedule, auto_flag, paramdate, displayname FROM auto_print_param_table ORDER BY name
/postgresql/tool/autoprint/read=SELECT name, schedule, auto_flag, paramdate, displayname FROM auto_print_param_table WHERE name=?
/postgresql/tool/autoprint/update=UPDATE auto_print_param_table SET auto_flag=?, paramdate=? WHERE name=?

/postgresql/tool/page/read/all=SELECT page_name, page_xml_path FROM page_define_table ORDER BY page_name;

/postgresql/tool/emailgroup/master/read/all=SELECT email_group_id, kind, email_address FROM email_group_master_table ORDER BY email_group_id, kind
/postgresql/tool/emailgroup/master/read=SELECT email_group_id, kind, email_address FROM email_group_master_table WHERE email_group_id=? ORDER BY kind
/postgresql/tool/emailgroup/master/remove=DELETE FROM email_group_master_table WHERE email_group_id=?
/postgresql/tool/emailgroup/master/insert=INSERT INTO email_group_master_table (email_group_id, kind, email_address) VALUES(?, ?, ?)
/postgresql/tool/emailgroup/master/max_id=SELECT MAX(email_group_id) AS max FROM email_group_master_table
/postgresql/tool/emailgroup/master/checkremove=SELECT COUNT(email_individual_setting_id) AS checkcount FROM email_individual_setting_table WHERE email_group_id = ?;

/postgresql/tool/emailgroup/attr/read/all=SELECT a.attribute, a.name FROM attribute_table a WHERE a.name IS NOT NULL AND a.name!='' ORDER BY a.attribute
/postgresql/tool/emailgroup/attr/read=SELECT a.attribute, a.name, e.email_address FROM attribute_table a LEFT JOIN email_attribute_setting_table e ON a.attribute=e.attribute_id WHERE a.attribute=?
/postgresql/tool/emailgroup/attr/update=UPDATE email_attribute_setting_table SET email_address=? WHERE attribute_id=? AND email_group_id = 0
/postgresql/tool/emailgroup/attr/insert=INSERT INTO email_attribute_setting_table (attribute_id, email_address, email_group_id) VALUES(?, ?, 0)
/postgresql/tool/emailgroup/attr/item/read=SELECT provider, holder FROM item_table WHERE attribute_id=? ORDER BY provider, holder
/postgresql/tool/emailgroup/attr/delete=DELETE FROM email_attribute_setting_table WHERE email_group_id != 0 AND attribute_id=?
/postgresql/tool/emailgroup/attr/insert2=INSERT INTO email_attribute_setting_table (attribute_id, email_group_id) VALUES(?, ?)
/postgresql/tool/emailgroup/attr/read/all2=SELECT email_group_id FROM email_attribute_setting_table WHERE email_group_id != 0 AND attribute_id = ? ORDER BY email_group_id
/postgresql/tool/emailgroup/attr/read/all3=SELECT email_address FROM email_attribute_setting_table WHERE email_group_id = 0 AND attribute_id = ?
/postgresql/tool/emailgroup/attr/item/delete=DELETE FROM ONLY email_individual_setting_table WHERE email_individual_setting_table.provider = item_table.provider AND email_individual_setting_table.holder = item_table.holder AND item_table.attribute_id = ?

/postgresql/tool/emailgroup/indv/read/all=SELECT i.point, i.provider, i.holder, p.unit, p.name, a.name AS attrname, e.email_address FROM ((item_table i LEFT JOIN point_table p ON i.point=p.point) LEFT JOIN attribute_table a ON i.attribute_id=a.attribute) LEFT JOIN email_individual_setting_table e ON i.provider=e.provider AND i.holder=e.holder WHERE a.name IS NOT NULL AND a.name!='' ORDER BY i.point, i.provider, i.holder
/postgresql/tool/emailgroup/indv/read/all2=SELECT i.point, i.provider, i.holder, p.unit, p.name, a.name AS attrname, e.email_address FROM ((item_table i LEFT JOIN point_table p ON i.point=p.point) LEFT JOIN attribute_table a ON i.attribute_id=a.attribute) LEFT JOIN email_individual_setting_table e ON i.provider=e.provider AND i.holder=e.holder AND e.email_group_id = 0 WHERE a.name IS NOT NULL AND a.name!='' ORDER BY i.point, i.provider, i.holder
/postgresql/tool/emailgroup/indv/read=SELECT i.point, i.provider, i.holder, p.unit, p.name, a.name AS attrname, e.email_address FROM ((item_table i LEFT JOIN point_table p ON i.point=p.point) LEFT JOIN attribute_table a ON i.attribute_id=a.attribute) LEFT JOIN email_individual_setting_table e ON i.provider=e.provider AND i.holder=e.holder WHERE i.provider=? AND i.holder=? AND a.name IS NOT NULL AND a.name!=''
/postgresql/tool/emailgroup/indv/read3=SELECT email_group_id FROM email_individual_setting_table WHERE email_group_id != 0 AND provider = ? AND holder = ?
/postgresql/tool/emailgroup/indv/update=UPDATE email_individual_setting_table SET email_address=? WHERE provider=? AND holder=? AND email_group_id = 0;
/postgresql/tool/emailgroup/indv/insert=INSERT INTO email_individual_setting_table (provider, holder, email_address, email_group_id) VALUES(?, ?, ?, 0)
/postgresql/tool/emailgroup/indv/delete=DELETE FROM email_individual_setting_table WHERE provider=? AND holder=?
/postgresql/tool/emailgroup/indv/insert2=INSERT INTO email_individual_setting_table (provider, holder, email_group_id) VALUES(?, ?, ?)
/postgresql/tool/emailgroup/indv/update2=UPDATE email_individual_setting_table ei, item_table i SET ei.email_address = ? WHERE ei.provider = i.provider AND ei.holder = i.holder AND i.attribute_id = ? AND ei.email_group_id = 0;
/postgresql/tool/emailgroup/indv/read2=SELECT i.provider, i.holder FROM item_table i, attribute_table a, email_individual_setting_table ei WHERE i.attribute_id = a.attribute AND ei.email_group_id = 0 AND a.attribute = ?

/postgresql/tool/logdata/read/all=SELECT logging_table_name, name FROM download_loggingname_table ORDER BY name
/postgresql/tool/logdata/read=SELECT logging_table_name FROM download_loggingname_table WHERE name=?
/postgresql/tool/logdata/point/read=SELECT i.data_type, p.unit, p.name, p.unit_mark, a.convert_min, a.convert_max, a.input_min, a.input_max, a.format, a.convert_type FROM (item_table i LEFT JOIN point_table p ON i.point=p.point) LEFT JOIN analog_type_table a ON i.analog_type_id=a.analog_type_id WHERE i.provider=? AND i.holder=?

# MySQL(PostgreSQL\u3068\u306e\u5dee\u7570\u306f\u7121\u3057)

/mysql/tool/user/read/all=SELECT username FROM user_define_table ORDER BY username
/mysql/tool/user/remove=DELETE FROM user_define_table WHERE username=?
/mysql/tool/user/insert=INSERT INTO user_define_table (username, password, entrydate, renewdate) VALUES(?, ?, ?, ?)
/mysql/tool/user/update=UPDATE user_define_table SET password=?,renewdate=? WHERE username=?
/mysql/tool/user/read/password=SELECT password FROM user_define_table WHERE username=?
/mysql/tool/user/read/permission=SELECT p.name FROM group_define_table g, tool_policy_define_table p WHERE (g.username=? AND g.groupname=p.principal) OR p.principal=?

/mysql/tool/group/read/all=SELECT DISTINCT groupname FROM group_define_table ORDER BY groupname
/mysql/tool/group/read=SELECT username FROM group_define_table WHERE groupname=?
/mysql/tool/group/remove=DELETE FROM group_define_table WHERE groupname=?
/mysql/tool/group/insert=INSERT INTO group_define_table (username, groupname, entrydate, renewdate) VALUES(?, ?, ?, ?)

/mysql/tool/point/read/all=SELECT point, unit, name, unit_mark FROM point_table ORDER BY point
/mysql/tool/point/read=SELECT point, unit, name, unit_mark, attribute1, attribute2, attribute3 FROM point_table WHERE point=? ORDER BY point
/mysql/tool/point/update=UPDATE point_table SET unit=?, name=?, unit_mark=?, attribute1=?, attribute2=?, attribute3=? WHERE point=?
/mysql/tool/point/remove=DELETE FROM point_table WHERE point=?
/mysql/tool/point/insert=INSERT INTO point_table (point, unit, name, unit_mark, attribute1, attribute2, attribute3) VALUES(?, ?, ?, ?, ?, ?, ?)

/mysql/tool/email/read/all=SELECT DISTINCT email_group_id, email_address FROM email_group_table ORDER BY email_group_id, email_address
/mysql/tool/email/read=SELECT email_group_id, email_address FROM email_group_table WHERE email_group_id=? AND email_address=?
/mysql/tool/email/update=UPDATE email_group_table SET email_group_id=?, email_address=? WHERE email_group_id=? AND email_address=?
/mysql/tool/email/remove=DELETE FROM email_group_table WHERE email_group_id=? AND email_address=?
/mysql/tool/email/insert=INSERT INTO email_group_table (email_group_id, email_address) VALUES(?, ?)

/mysql/tool/maintenance/read=SELECT principal, name, permission, entrydate, renewdate FROM tool_policy_define_table WHERE principal=?
/mysql/tool/maintenance/insert=INSERT INTO tool_policy_define_table (principal, name, permission, entrydate, renewdate) VALUES(?, ?, 'write', ?, ?)
/mysql/tool/maintenance/remove/group=DELETE FROM tool_policy_define_table WHERE principal=?

/mysql/tool/attribute/read=SELECT name FROM attribute_table;
/mysql/tool/career/read=SELECT CASE WHEN c.bit_value='1' THEN att.on_alarm_color ELSE att.off_alarm_color END AS alarm_color, c.entrydate, p.unit, p.name AS p_name, att.name AS att_name, m.message, c.bit_value AS bitval FROM point_table p,career_table c,item_table i,message_table m,attribute_table att WHERE p.point=i.point AND c.point=i.point AND c.provider=i.provider AND c.holder=i.holder AND i.message_id=m.message_id AND c.bit_value=m.type AND i.attribute_id=att.attribute AND ((att.career_mode=1 AND c.bit_value='0') OR (att.career_mode=2 AND c.bit_value='1') OR (att.career_mode=3) OR (att.career_mode=4 AND c.bit_value='1') OR (att.career_mode=5 AND c.bit_value='0')) AND ? <= entrydate AND entrydate < ? AND p.name LIKE ? AND att.name LIKE ? AND (c.bit_value=? OR c.bit_value=?) ORDER BY entrydate DESC LIMIT ? OFFSET ?
/mysql/tool/career/count=SELECT COUNT(c.point) AS count FROM point_table p,career_table c,item_table i,message_table m,attribute_table att WHERE p.point=i.point AND c.point=i.point AND c.provider=i.provider AND c.holder=i.holder AND i.message_id=m.message_id AND c.bit_value=m.type AND i.attribute_id=att.attribute AND ((att.career_mode=1 AND c.bit_value='0') OR (att.career_mode=2 AND c.bit_value='1') OR (att.career_mode=3) OR (att.career_mode=4 AND c.bit_value='1') OR (att.career_mode=5 AND c.bit_value='0')) AND ? < entrydate AND entrydate < ? AND p.name LIKE ? AND att.name LIKE ? AND (c.bit_value=? OR c.bit_value=?)
/mysql/tool/history/read=SELECT CASE WHEN h.off_date='epoch' THEN att.on_alarm_color ELSE att.off_alarm_color END AS alarm_color, h.on_date, h.off_date, p.unit, p.name AS p_name, att.name AS att_name, CASE WHEN att.check_type = '0' THEN '\u2500\u2500\u2500\u2500' WHEN att.check_type = '1' AND h.check_flag = '1' THEN '\uff0a\uff0a\uff0a\uff0a' ELSE '' END AS histry_check FROM history_table h, point_table p, item_table i, attribute_table att WHERE p.point = h.point AND h.point = i.point AND h.provider = i.provider AND h.holder = i.holder AND i.attribute_id = att.attribute AND ((att.history_mode=1 AND h.off_date<>'epoch') OR (att.history_mode=2 AND h.on_date<>'epoch') OR (att.history_mode=3) OR (att.history_mode=4 AND h.on_date<>'epoch' AND h.off_date='epoch') OR (att.history_mode=5 AND h.on_date='epoch' AND h.off_date<>'epoch')) AND (('epoch' < on_date AND ? <= on_date AND on_date < ?) OR ('epoch' < off_date AND ? <= off_date AND off_date < ?)) AND att.name LIKE ? AND (?<=h.off_date AND h.off_date<?) AND (?='true' OR (att.check_type<>'1' OR h.check_flag='1')) AND (?='true' OR (att.check_type='1' AND (h.check_flag<>'1' OR h.check_flag IS NULL))) AND p.name LIKE ? ORDER BY h.on_date DESC LIMIT ? OFFSET ?
/mysql/tool/history/count=SELECT COUNT(h.point) AS count FROM history_table h, point_table p, item_table i, attribute_table att WHERE p.point = h.point AND h.point = i.point AND h.provider = i.provider AND h.holder = i.holder AND i.attribute_id = att.attribute AND ((att.history_mode=1 AND h.off_date<>'epoch') OR (att.history_mode=2 AND h.on_date<>'epoch') OR (att.history_mode=3) OR (att.history_mode=4 AND h.on_date<>'epoch' AND h.off_date='epoch') OR (att.history_mode=5 AND h.on_date='epoch' AND h.off_date<>'epoch')) AND (('epoch' < on_date AND ? <= on_date AND on_date < ?) OR ('epoch' < off_date AND ? <= off_date AND off_date < ?)) AND att.name LIKE ? AND (?<=h.off_date AND h.off_date<?) AND (?='true' OR (att.check_type<>'1' OR h.check_flag='1')) AND (?='true' OR (att.check_type='1' AND (h.check_flag<>'1' OR h.check_flag IS NULL))) AND p.name LIKE ?
/mysql/tool/summary/read=SELECT CASE WHEN s.bit_value='1' THEN att.on_summary_color ELSE att.off_summary_color END AS alarm_color, s.on_date, s.off_date, p.unit, p.name AS p_name, att.name AS att_name, m.message, s.bit_value AS bitval FROM summary_table s, point_table p, item_table i, message_table m, attribute_table att WHERE p.point = s.point AND s.point = i.point AND s.provider = i.provider AND s.holder = i.holder AND i.message_id = m.message_id AND s.bit_value = m.type AND i.attribute_id = att.attribute AND ((att.summary_mode=1 AND s.bit_value='0') OR (att.summary_mode=2 AND s.bit_value='1') OR (att.summary_mode=3) OR (att.summary_mode=4 AND s.bit_value='1') OR (att.summary_mode=5 AND s.bit_value='0')) AND (('epoch' < on_date AND ? <= on_date AND on_date < ?) OR ('epoch' < off_date AND ? <= off_date AND off_date < ?)) AND att.name LIKE ? AND (s.bit_value=? OR s.bit_value=?) AND p.name LIKE ? ORDER BY s.point, s.provider, s.holder LIMIT ? OFFSET ?
/mysql/tool/summary/count=SELECT COUNT(s.point) AS count FROM summary_table s, point_table p, item_table i, message_table m, attribute_table att WHERE p.point = s.point AND s.point = i.point AND s.provider = i.provider AND s.holder = i.holder AND i.message_id = m.message_id AND s.bit_value = m.type AND i.attribute_id = att.attribute AND ((att.summary_mode=1 AND s.bit_value='0') OR (att.summary_mode=2 AND s.bit_value='1') OR (att.summary_mode=3) OR (att.summary_mode=4 AND s.bit_value='1') OR (att.summary_mode=5 AND s.bit_value='0')) AND (('epoch' < on_date AND ? <= on_date AND on_date < ?) OR ('epoch' < off_date AND ? <= off_date AND off_date < ?)) AND att.name LIKE ? AND (s.bit_value=? OR s.bit_value=?) AND p.name LIKE ?
/mysql/tool/career/readlike=SELECT CASE WHEN c.bit_value='1' THEN att.on_alarm_color ELSE att.off_alarm_color END AS alarm_color, c.entrydate, p.unit, p.name AS p_name, att.name AS att_name, m.message, c.bit_value AS bitval FROM point_table p,career_table c,item_table i,message_table m,attribute_table att WHERE p.point=i.point AND c.point=i.point AND c.provider=i.provider AND c.holder=i.holder AND i.message_id=m.message_id AND c.bit_value=m.type AND i.attribute_id=att.attribute AND ((att.career_mode=1 AND c.bit_value='0') OR (att.career_mode=2 AND c.bit_value='1') OR (att.career_mode=3) OR (att.career_mode=4 AND c.bit_value='1') OR (att.career_mode=5 AND c.bit_value='0')) AND ? <= entrydate AND entrydate < ? AND att.name LIKE ? AND (c.bit_value=? OR c.bit_value=?) $LIKE ORDER BY entrydate DESC LIMIT ? OFFSET ?
/mysql/tool/career/countlike=SELECT COUNT(c.point) AS count FROM point_table p,career_table c,item_table i,message_table m,attribute_table att WHERE p.point=i.point AND c.point=i.point AND c.provider=i.provider AND c.holder=i.holder AND i.message_id=m.message_id AND c.bit_value=m.type AND i.attribute_id=att.attribute AND ((att.career_mode=1 AND c.bit_value='0') OR (att.career_mode=2 AND c.bit_value='1') OR (att.career_mode=3) OR (att.career_mode=4 AND c.bit_value='1') OR (att.career_mode=5 AND c.bit_value='0')) AND ? < entrydate AND entrydate < ? AND att.name LIKE ? AND (c.bit_value=? OR c.bit_value=?) $LIKE
/mysql/tool/history/readlike=SELECT CASE WHEN h.off_date='epoch' THEN att.on_alarm_color ELSE att.off_alarm_color END AS alarm_color, h.on_date, h.off_date, p.unit, p.name AS p_name, att.name AS att_name, CASE WHEN att.check_type = '0' THEN '\u2500\u2500\u2500\u2500' WHEN att.check_type = '1' AND h.check_flag = '1' THEN '\uff0a\uff0a\uff0a\uff0a' ELSE '' END AS histry_check FROM history_table h, point_table p, item_table i, attribute_table att WHERE p.point = h.point AND h.point = i.point AND h.provider = i.provider AND h.holder = i.holder AND i.attribute_id = att.attribute AND ((att.history_mode=1 AND h.off_date<>'epoch') OR (att.history_mode=2 AND h.on_date<>'epoch') OR (att.history_mode=3) OR (att.history_mode=4 AND h.on_date<>'epoch' AND h.off_date='epoch') OR (att.history_mode=5 AND h.on_date='epoch' AND h.off_date<>'epoch')) AND (('epoch' < on_date AND ? <= on_date AND on_date < ?) OR ('epoch' < off_date AND ? <= off_date AND off_date < ?)) AND att.name LIKE ? AND (?<=h.off_date AND h.off_date<?) AND (?='true' OR (att.check_type<>'1' OR h.check_flag='1')) AND (?='true' OR (att.check_type='1' AND (h.check_flag<>'1' OR h.check_flag IS NULL))) $LIKE ORDER BY h.on_date DESC LIMIT ? OFFSET ?
/mysql/tool/history/countlike=SELECT COUNT(h.point) AS count FROM history_table h, point_table p, item_table i, attribute_table att WHERE p.point = h.point AND h.point = i.point AND h.provider = i.provider AND h.holder = i.holder AND i.attribute_id = att.attribute AND ((att.history_mode=1 AND h.off_date<>'epoch') OR (att.history_mode=2 AND h.on_date<>'epoch') OR (att.history_mode=3) OR (att.history_mode=4 AND h.on_date<>'epoch' AND h.off_date='epoch') OR (att.history_mode=5 AND h.on_date='epoch' AND h.off_date<>'epoch')) AND (('epoch' < on_date AND ? <= on_date AND on_date < ?) OR ('epoch' < off_date AND ? <= off_date AND off_date < ?)) AND att.name LIKE ? AND (?<=h.off_date AND h.off_date<?) AND (?='true' OR (att.check_type<>'1' OR h.check_flag='1')) AND (?='true' OR (att.check_type='1' AND (h.check_flag<>'1' OR h.check_flag IS NULL))) $LIKE
/mysql/tool/summary/readlike=SELECT CASE WHEN s.bit_value='1' THEN att.on_summary_color ELSE att.off_summary_color END AS alarm_color, s.on_date, s.off_date, p.unit, p.name AS p_name, att.name AS att_name, m.message, s.bit_value AS bitval FROM summary_table s, point_table p, item_table i, message_table m, attribute_table att WHERE p.point = s.point AND s.point = i.point AND s.provider = i.provider AND s.holder = i.holder AND i.message_id = m.message_id AND s.bit_value = m.type AND i.attribute_id = att.attribute AND ((att.summary_mode=1 AND s.bit_value='0') OR (att.summary_mode=2 AND s.bit_value='1') OR (att.summary_mode=3) OR (att.summary_mode=4 AND s.bit_value='1') OR (att.summary_mode=5 AND s.bit_value='0')) AND (('epoch' < on_date AND ? <= on_date AND on_date < ?) OR ('epoch' < off_date AND ? <= off_date AND off_date < ?)) AND att.name LIKE ? AND (s.bit_value=? OR s.bit_value=?) $LIKE ORDER BY s.point, s.provider, s.holder LIMIT ? OFFSET ?
/mysql/tool/summary/countlike=SELECT COUNT(s.point) AS count FROM summary_table s, point_table p, item_table i, message_table m, attribute_table att WHERE p.point = s.point AND s.point = i.point AND s.provider = i.provider AND s.holder = i.holder AND i.message_id = m.message_id AND s.bit_value = m.type AND i.attribute_id = att.attribute AND ((att.summary_mode=1 AND s.bit_value='0') OR (att.summary_mode=2 AND s.bit_value='1') OR (att.summary_mode=3) OR (att.summary_mode=4 AND s.bit_value='1') OR (att.summary_mode=5 AND s.bit_value='0')) AND (('epoch' < on_date AND ? <= on_date AND on_date < ?) OR ('epoch' < off_date AND ? <= off_date AND off_date < ?)) AND att.name LIKE ? AND (s.bit_value=? OR s.bit_value=?) $LIKE

/mysql/tool/autoprint/read/all=SELECT name, schedule, auto_flag, paramdate, displayname FROM auto_print_param_table ORDER BY name
/mysql/tool/autoprint/read=SELECT name, schedule, auto_flag, paramdate, displayname FROM auto_print_param_table WHERE name=?
/mysql/tool/autoprint/update=UPDATE auto_print_param_table SET auto_flag=?, paramdate=? WHERE name=?

/mysql/tool/page/read/all=SELECT page_name, page_xml_path FROM page_define_table ORDER BY page_name;

/mysql/tool/emailgroup/master/read/all=SELECT email_group_id, kind, email_address FROM email_group_master_table ORDER BY email_group_id, kind
/mysql/tool/emailgroup/master/read=SELECT email_group_id, kind, email_address FROM email_group_master_table WHERE email_group_id=? ORDER BY kind
/mysql/tool/emailgroup/master/remove=DELETE FROM email_group_master_table WHERE email_group_id=?
/mysql/tool/emailgroup/master/insert=INSERT INTO email_group_master_table (email_group_id, kind, email_address) VALUES(?, ?, ?)
/mysql/tool/emailgroup/master/max_id=SELECT MAX(email_group_id) AS max FROM email_group_master_table
/mysql/tool/emailgroup/master/checkremove=SELECT COUNT(email_individual_setting_id) checkcount FROM email_individual_setting_table WHERE email_group_id = ?;

/mysql/tool/emailgroup/attr/read/all=SELECT a.attribute, a.name FROM attribute_table a WHERE a.name IS NOT NULL AND a.name!='' ORDER BY a.attribute
/mysql/tool/emailgroup/attr/read=SELECT a.attribute, a.name, e.email_address FROM attribute_table a LEFT JOIN email_attribute_setting_table e ON a.attribute=e.attribute_id WHERE a.attribute=?
/mysql/tool/emailgroup/attr/update=UPDATE email_attribute_setting_table SET email_address=? WHERE attribute_id=? AND email_group_id = 0
/mysql/tool/emailgroup/attr/insert=INSERT INTO email_attribute_setting_table (attribute_id, email_address) VALUES(?, ?)
/mysql/tool/emailgroup/attr/item/read=SELECT provider, holder FROM item_table WHERE attribute_id=? ORDER BY provider, holder
/mysql/tool/emailgroup/attr/delete=DELETE FROM email_attribute_setting_table WHERE email_group_id != 0 AND attribute_id=?
/mysql/tool/emailgroup/attr/insert2=INSERT INTO email_attribute_setting_table (attribute_id, email_group_id) VALUES(?, ?)
/mysql/tool/emailgroup/attr/read/all2=SELECT email_group_id FROM email_attribute_setting_table WHERE email_group_id != 0 AND attribute_id = ? ORDER BY email_group_id
/mysql/tool/emailgroup/attr/read/all3=SELECT email_address FROM email_attribute_setting_table WHERE email_group_id = 0 AND attribute_id = ?
/mysql/tool/emailgroup/attr/item/delete=DELETE FROM email_individual_setting_table USING email_individual_setting_table ei, item_table i WHERE ei.provider = i.provider AND ei.holder = i.holder AND i.attribute_id = ?

/mysql/tool/emailgroup/indv/read/all=SELECT i.point, i.provider, i.holder, p.unit, p.name, a.name AS attrname, e.email_address FROM ((item_table i LEFT JOIN point_table p ON i.point=p.point) LEFT JOIN attribute_table a ON i.attribute_id=a.attribute) LEFT JOIN email_individual_setting_table e ON i.provider=e.provider AND i.holder=e.holder WHERE a.name IS NOT NULL AND a.name!='' ORDER BY i.point, i.provider, i.holder
/mysql/tool/emailgroup/indv/read/all2=SELECT i.point, i.provider, i.holder, p.unit, p.name, a.name AS attrname, e.email_address FROM ((item_table i LEFT JOIN point_table p ON i.point=p.point) LEFT JOIN attribute_table a ON i.attribute_id=a.attribute) LEFT JOIN email_individual_setting_table e ON i.provider=e.provider AND i.holder=e.holder AND e.email_group_id = 0 WHERE a.name IS NOT NULL AND a.name!='' ORDER BY i.point, i.provider, i.holder
/mysql/tool/emailgroup/indv/read=SELECT i.point, i.provider, i.holder, p.unit, p.name, a.name AS attrname, e.email_address FROM ((item_table i LEFT JOIN point_table p ON i.point=p.point) LEFT JOIN attribute_table a ON i.attribute_id=a.attribute) LEFT JOIN email_individual_setting_table e ON i.provider=e.provider AND i.holder=e.holder WHERE i.provider=? AND i.holder=? AND a.name IS NOT NULL AND a.name!=''
/mysql/tool/emailgroup/indv/read3=SELECT email_group_id FROM email_individual_setting_table WHERE email_group_id != 0 AND provider = ? AND holder = ?
/mysql/tool/emailgroup/indv/update=UPDATE email_individual_setting_table SET email_address=? WHERE provider=? AND holder=? AND email_group_id = 0;
/mysql/tool/emailgroup/indv/insert=INSERT INTO email_individual_setting_table (provider, holder, email_address) VALUES(?, ?, ?)
/mysql/tool/emailgroup/indv/delete=DELETE FROM email_individual_setting_table WHERE provider=? AND holder=?
/mysql/tool/emailgroup/indv/insert2=INSERT INTO email_individual_setting_table (provider, holder, email_group_id) VALUES(?, ?, ?)
/mysql/tool/emailgroup/indv/update2=UPDATE email_individual_setting_table ei, item_table i SET ei.email_address = ? WHERE ei.provider = i.provider AND ei.holder = i.holder AND i.attribute_id = ? AND ei.email_group_id = 0;
/mysql/tool/emailgroup/indv/read2=SELECT i.provider, i.holder FROM item_table i, attribute_table a, email_individual_setting_table ei WHERE i.attribute_id = a.attribute AND ei.email_group_id = 0 AND a.attribute = ?

/mysql/tool/logdata/read/all=SELECT logging_table_name, name FROM download_loggingname_table ORDER BY name
/mysql/tool/logdata/read=SELECT logging_table_name FROM download_loggingname_table WHERE name=?
/mysql/tool/logdata/point/read=SELECT i.data_type, p.unit, p.name, p.unit_mark, a.convert_min, a.convert_max, a.input_min, a.input_max, a.format, a.convert_type FROM (item_table i LEFT JOIN point_table p ON i.point=p.point) LEFT JOIN analog_type_table a ON i.analog_type_id=a.analog_type_id WHERE i.provider=? AND i.holder=?
